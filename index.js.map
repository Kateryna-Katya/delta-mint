{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * DELTA-MINT.FIT — Главный файл скриптов\n * Дата: 2026 год\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    // --- 1. ИНИЦИАЛИЗАЦИЯ БИБЛИОТЕК ---\n    \n    // Иконки Lucide\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // Плавный скролл Lenis\n    const lenis = new Lenis();\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    // --- 2. ХЕДЕР: СКРОЛЛ-ЭФФЕКТЫ ---\n    \n    const header = document.querySelector('.header');\n    window.addEventListener('scroll', () => {\n        if (window.pageYOffset > 50) {\n            header.style.background = 'rgba(18, 18, 18, 0.95)';\n            header.style.padding = '12px 0';\n            header.style.backdropFilter = 'blur(10px)';\n        } else {\n            header.style.background = 'transparent';\n            header.style.padding = '20px 0';\n            header.style.backdropFilter = 'none';\n        }\n    });\n\n    // --- 3. HERO: ИНТЕРАКТИВНЫЙ CANAVAS (BLOB) ---\n    \n    const canvas = document.getElementById('canvas-webgl');\n    if (canvas) {\n        const ctx = canvas.getContext('2d');\n        let w, h, particles = [];\n        let mouseX = 0, mouseY = 0;\n\n        function initCanvas() {\n            w = canvas.width = canvas.offsetWidth;\n            h = canvas.height = canvas.offsetHeight;\n            mouseX = w / 2;\n            mouseY = h / 2;\n        }\n\n        window.addEventListener('resize', initCanvas);\n        initCanvas();\n\n        class BlobParticle {\n            constructor() {\n                this.x = Math.random() * w;\n                this.y = Math.random() * h;\n                this.size = Math.random() * 120 + 60;\n                this.vx = (Math.random() - 0.5) * 0.8;\n                this.vy = (Math.random() - 0.5) * 0.8;\n            }\n            update() {\n                this.x += this.vx;\n                this.y += this.vy;\n                \n                let dx = mouseX - this.x;\n                let dy = mouseY - this.y;\n                let dist = Math.sqrt(dx * dx + dy * dy);\n                if (dist < 400) {\n                    this.x += dx * 0.005;\n                    this.y += dy * 0.005;\n                }\n\n                if (this.x < 0 || this.x > w) this.vx *= -1;\n                if (this.y < 0 || this.y > h) this.vy *= -1;\n            }\n            draw() {\n                ctx.beginPath();\n                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);\n                ctx.fillStyle = 'rgba(0, 255, 171, 0.4)';\n                ctx.fill();\n            }\n        }\n\n        for (let i = 0; i < 6; i++) particles.push(new BlobParticle());\n\n        window.addEventListener('mousemove', (e) => {\n            const rect = canvas.getBoundingClientRect();\n            mouseX = e.clientX - rect.left;\n            mouseY = e.clientY - rect.top;\n        });\n\n        function animateCanvas() {\n            ctx.clearRect(0, 0, w, h);\n            particles.forEach(p => {\n                p.update();\n                p.draw();\n            });\n            requestAnimationFrame(animateCanvas);\n        }\n        animateCanvas();\n    }\n\n    // --- 4. МОБИЛЬНОЕ МЕНЮ (ФИКС ОШИБКИ ПРОЗРАЧНОСТИ) ---\n    \n    const menuBtn = document.querySelector('.menu-toggle');\n    const mobileMenu = document.getElementById('mobile-menu');\n    const mobileLinks = document.querySelectorAll('.mobile-nav__link');\n\n    function toggleMenu() {\n        const isActive = mobileMenu.classList.toggle('active');\n        menuBtn.classList.toggle('active');\n        \n        if (isActive) {\n            document.body.style.overflow = 'hidden';\n            // Используем fromTo чтобы избежать \"залипания\" opacity\n            gsap.fromTo(mobileLinks, \n                { opacity: 0, y: 30 }, \n                { opacity: 1, y: 0, duration: 0.5, stagger: 0.1, ease: \"power2.out\", delay: 0.2 }\n            );\n        } else {\n            document.body.style.overflow = '';\n            gsap.to(mobileLinks, { opacity: 0, y: 20, duration: 0.3 });\n        }\n    }\n\n    if (menuBtn) {\n        menuBtn.addEventListener('click', toggleMenu);\n    }\n\n    mobileLinks.forEach(link => {\n        link.addEventListener('click', toggleMenu);\n    });\n\n    // --- 5. BENEFITS: СЛАЙДЕР SWIPER ---\n    \n    if (document.querySelector('.benefits-slider')) {\n        new Swiper('.benefits-slider', {\n            slidesPerView: 1,\n            spaceBetween: 30,\n            loop: true,\n            navigation: { nextEl: '.swiper-button-next', prevEl: '.swiper-button-prev' },\n            pagination: { el: '.swiper-pagination', clickable: true },\n            breakpoints: {\n                768: { slidesPerView: 2 },\n                1024: { slidesPerView: 3 }\n            }\n        });\n    }\n\n    // --- 6. INNOVATIONS: АККОРДЕОН ---\n    \n    const accordionItems = document.querySelectorAll('.accordion__item');\n    accordionItems.forEach(item => {\n        item.querySelector('.accordion__header').addEventListener('click', () => {\n            accordionItems.forEach(i => i.classList.remove('active'));\n            item.classList.add('active');\n            \n            // Имитация смены изображения\n            const img = document.getElementById('innovation-img');\n            if (img) {\n                gsap.to(img, { opacity: 0, duration: 0.3, onComplete: () => {\n                    gsap.to(img, { opacity: 1, duration: 0.3 });\n                }});\n            }\n        });\n    });\n\n    // --- 7. EDUCATION: ТИЛТ-ЭФФЕКТ (3D НАКЛОН) ---\n    \n    const eduCards = document.querySelectorAll('.edu-card');\n    eduCards.forEach(card => {\n        card.addEventListener('mousemove', (e) => {\n            const rect = card.getBoundingClientRect();\n            const x = (e.clientX - rect.left) / rect.width - 0.5;\n            const y = (e.clientY - rect.top) / rect.height - 0.5;\n            gsap.to(card, {\n                rotationY: x * 15,\n                rotationX: -y * 15,\n                transformPerspective: 1000,\n                ease: \"power1.out\",\n                duration: 0.5\n            });\n        });\n        card.addEventListener('mouseleave', () => {\n            gsap.to(card, { rotationY: 0, rotationX: 0, duration: 0.5 });\n        });\n    });\n\n    // --- 8. КОНТАКТНАЯ ФОРМА: ВАЛИДАЦИЯ И КАПЧА ---\n    \n    const captchaLabel = document.getElementById('captcha-question');\n    const captchaInput = document.getElementById('captcha-answer');\n    const phoneInput = document.getElementById('phone');\n    const contactForm = document.getElementById('ai-contact-form');\n    let correctSum;\n\n    function refreshCaptcha() {\n        const a = Math.floor(Math.random() * 10);\n        const b = Math.floor(Math.random() * 10);\n        correctSum = a + b;\n        if (captchaLabel) captchaLabel.innerText = `${a} + ${b}`;\n    }\n\n    if (captchaLabel) refreshCaptcha();\n\n    if (phoneInput) {\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/[^0-9]/g, '');\n        });\n    }\n\n    if (contactForm) {\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n            if (parseInt(captchaInput.value) !== correctSum) {\n                alert('Неверный ответ капчи!');\n                refreshCaptcha();\n                return;\n            }\n\n            const btn = contactForm.querySelector('button');\n            btn.innerText = 'ОТПРАВЛЯЕМ...';\n            btn.disabled = true;\n\n            setTimeout(() => {\n                document.getElementById('form-success').style.display = 'flex';\n                contactForm.reset();\n                refreshCaptcha();\n                btn.disabled = false;\n                btn.innerText = 'НАЧАТЬ СЕЙЧАС';\n                \n                setTimeout(() => {\n                    document.getElementById('form-success').style.display = 'none';\n                }, 4000);\n            }, 1500);\n        });\n    }\n\n    // --- 9. COOKIE POPUP ---\n    \n    const cookiePopup = document.getElementById('cookie-popup');\n    const acceptCookies = document.getElementById('accept-cookies');\n\n    if (cookiePopup && !localStorage.getItem('cookies_accepted')) {\n        setTimeout(() => {\n            cookiePopup.classList.add('active');\n        }, 3000);\n    }\n\n    if (acceptCookies) {\n        acceptCookies.addEventListener('click', () => {\n            localStorage.setItem('cookies_accepted', 'true');\n            cookiePopup.classList.remove('active');\n        });\n    }\n});"],"names":["lenis","raf","time","header","canvas","initCanvas","w","h","mouseX","mouseY","animateCanvas","ctx","particles","p","BlobParticle","dx","dy","i","e","rect","menuBtn","mobileMenu","mobileLinks","toggleMenu","isActive","link","accordionItems","item","img","card","x","y","captchaLabel","captchaInput","phoneInput","contactForm","correctSum","refreshCaptcha","a","b","btn","cookiePopup","acceptCookies"],"mappings":"0uBAKA,SAAS,iBAAiB,mBAAoB,IAAM,CAK5C,OAAO,OAAW,KAClB,OAAO,YAAa,EAIxB,MAAMA,EAAQ,IAAI,MAClB,SAASC,EAAIC,EAAM,CACfF,EAAM,IAAIE,CAAI,EACd,sBAAsBD,CAAG,CACjC,CACI,sBAAsBA,CAAG,EAIzB,MAAME,EAAS,SAAS,cAAc,SAAS,EAC/C,OAAO,iBAAiB,SAAU,IAAM,CAChC,OAAO,YAAc,IACrBA,EAAO,MAAM,WAAa,yBAC1BA,EAAO,MAAM,QAAU,SACvBA,EAAO,MAAM,eAAiB,eAE9BA,EAAO,MAAM,WAAa,cAC1BA,EAAO,MAAM,QAAU,SACvBA,EAAO,MAAM,eAAiB,OAE1C,CAAK,EAID,MAAMC,EAAS,SAAS,eAAe,cAAc,EACrD,GAAIA,EAAQ,CAKR,IAASC,EAAT,UAAsB,CAClBC,EAAIF,EAAO,MAAQA,EAAO,YAC1BG,EAAIH,EAAO,OAASA,EAAO,aAC3BI,EAASF,EAAI,EACbG,EAASF,EAAI,CACzB,EA4CiBG,EAAT,UAAyB,CACrBC,EAAI,UAAU,EAAG,EAAGL,EAAGC,CAAC,EACxBK,EAAU,QAAQC,GAAK,CACnBA,EAAE,OAAQ,EACVA,EAAE,KAAM,CACxB,CAAa,EACD,sBAAsBH,CAAa,CAC/C,EA5DQ,MAAMC,EAAMP,EAAO,WAAW,IAAI,EAClC,IAAIE,EAAGC,EAAGK,EAAY,CAAE,EACpBJ,EAAS,EAAGC,EAAS,EASzB,OAAO,iBAAiB,SAAUJ,CAAU,EAC5CA,EAAY,EAEZ,MAAMS,CAAa,CACf,aAAc,CACV,KAAK,EAAI,KAAK,OAAQ,EAAGR,EACzB,KAAK,EAAI,KAAK,OAAQ,EAAGC,EACzB,KAAK,KAAO,KAAK,OAAQ,EAAG,IAAM,GAClC,KAAK,IAAM,KAAK,OAAQ,EAAG,IAAO,GAClC,KAAK,IAAM,KAAK,OAAQ,EAAG,IAAO,EAClD,CACY,QAAS,CACL,KAAK,GAAK,KAAK,GACf,KAAK,GAAK,KAAK,GAEf,IAAIQ,EAAKP,EAAS,KAAK,EACnBQ,EAAKP,EAAS,KAAK,EACZ,KAAK,KAAKM,EAAKA,EAAKC,EAAKA,CAAE,EAC3B,MACP,KAAK,GAAKD,EAAK,KACf,KAAK,GAAKC,EAAK,OAGf,KAAK,EAAI,GAAK,KAAK,EAAIV,KAAG,KAAK,IAAM,KACrC,KAAK,EAAI,GAAK,KAAK,EAAIC,KAAG,KAAK,IAAM,GACzD,CACY,MAAO,CACHI,EAAI,UAAW,EACfA,EAAI,IAAI,KAAK,EAAG,KAAK,EAAG,KAAK,KAAM,EAAG,KAAK,GAAK,CAAC,EACjDA,EAAI,UAAY,yBAChBA,EAAI,KAAM,CAC1B,CACA,CAEQ,QAASM,EAAI,EAAGA,EAAI,EAAGA,IAAKL,EAAU,KAAK,IAAIE,CAAc,EAE7D,OAAO,iBAAiB,YAAcI,GAAM,CACxC,MAAMC,EAAOf,EAAO,sBAAuB,EAC3CI,EAASU,EAAE,QAAUC,EAAK,KAC1BV,EAASS,EAAE,QAAUC,EAAK,GACtC,CAAS,EAUDT,EAAe,CACvB,CAII,MAAMU,EAAU,SAAS,cAAc,cAAc,EAC/CC,EAAa,SAAS,eAAe,aAAa,EAClDC,EAAc,SAAS,iBAAiB,mBAAmB,EAEjE,SAASC,GAAa,CAClB,MAAMC,EAAWH,EAAW,UAAU,OAAO,QAAQ,EACrDD,EAAQ,UAAU,OAAO,QAAQ,EAE7BI,GACA,SAAS,KAAK,MAAM,SAAW,SAE/B,KAAK,OAAOF,EACR,CAAE,QAAS,EAAG,EAAG,EAAI,EACrB,CAAE,QAAS,EAAG,EAAG,EAAG,SAAU,GAAK,QAAS,GAAK,KAAM,aAAc,MAAO,EAAG,CAClF,IAED,SAAS,KAAK,MAAM,SAAW,GAC/B,KAAK,GAAGA,EAAa,CAAE,QAAS,EAAG,EAAG,GAAI,SAAU,GAAK,EAErE,CAEQF,GACAA,EAAQ,iBAAiB,QAASG,CAAU,EAGhDD,EAAY,QAAQG,GAAQ,CACxBA,EAAK,iBAAiB,QAASF,CAAU,CACjD,CAAK,EAIG,SAAS,cAAc,kBAAkB,GACzC,IAAI,OAAO,mBAAoB,CAC3B,cAAe,EACf,aAAc,GACd,KAAM,GACN,WAAY,CAAE,OAAQ,sBAAuB,OAAQ,qBAAuB,EAC5E,WAAY,CAAE,GAAI,qBAAsB,UAAW,EAAM,EACzD,YAAa,CACT,IAAK,CAAE,cAAe,CAAG,EACzB,KAAM,CAAE,cAAe,CAAC,CACxC,CACA,CAAS,EAKL,MAAMG,EAAiB,SAAS,iBAAiB,kBAAkB,EACnEA,EAAe,QAAQC,GAAQ,CAC3BA,EAAK,cAAc,oBAAoB,EAAE,iBAAiB,QAAS,IAAM,CACrED,EAAe,QAAQ,GAAK,EAAE,UAAU,OAAO,QAAQ,CAAC,EACxDC,EAAK,UAAU,IAAI,QAAQ,EAG3B,MAAMC,EAAM,SAAS,eAAe,gBAAgB,EAChDA,GACA,KAAK,GAAGA,EAAK,CAAE,QAAS,EAAG,SAAU,GAAK,WAAY,IAAM,CACxD,KAAK,GAAGA,EAAK,CAAE,QAAS,EAAG,SAAU,GAAK,CAC9D,CAAiB,CAAC,CAElB,CAAS,CACT,CAAK,EAIgB,SAAS,iBAAiB,WAAW,EAC7C,QAAQC,GAAQ,CACrBA,EAAK,iBAAiB,YAAcX,GAAM,CACtC,MAAMC,EAAOU,EAAK,sBAAuB,EACnCC,GAAKZ,EAAE,QAAUC,EAAK,MAAQA,EAAK,MAAQ,GAC3CY,GAAKb,EAAE,QAAUC,EAAK,KAAOA,EAAK,OAAS,GACjD,KAAK,GAAGU,EAAM,CACV,UAAWC,EAAI,GACf,UAAW,CAACC,EAAI,GAChB,qBAAsB,IACtB,KAAM,aACN,SAAU,EAC1B,CAAa,CACb,CAAS,EACDF,EAAK,iBAAiB,aAAc,IAAM,CACtC,KAAK,GAAGA,EAAM,CAAE,UAAW,EAAG,UAAW,EAAG,SAAU,GAAK,CACvE,CAAS,CACT,CAAK,EAID,MAAMG,EAAe,SAAS,eAAe,kBAAkB,EACzDC,EAAe,SAAS,eAAe,gBAAgB,EACvDC,EAAa,SAAS,eAAe,OAAO,EAC5CC,EAAc,SAAS,eAAe,iBAAiB,EAC7D,IAAIC,EAEJ,SAASC,GAAiB,CACtB,MAAMC,EAAI,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EACjCC,EAAI,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EACvCH,EAAaE,EAAIC,EACbP,IAAcA,EAAa,UAAY,GAAGM,CAAC,MAAMC,CAAC,GAC9D,CAEQP,GAAcK,EAAgB,EAE9BH,GACAA,EAAW,iBAAiB,QAAU,GAAM,CACxC,EAAE,OAAO,MAAQ,EAAE,OAAO,MAAM,QAAQ,UAAW,EAAE,CACjE,CAAS,EAGDC,GACAA,EAAY,iBAAiB,SAAW,GAAM,CAE1C,GADA,EAAE,eAAgB,EACd,SAASF,EAAa,KAAK,IAAMG,EAAY,CAC7C,MAAM,uBAAuB,EAC7BC,EAAgB,EAChB,MAChB,CAEY,MAAMG,EAAML,EAAY,cAAc,QAAQ,EAC9CK,EAAI,UAAY,gBAChBA,EAAI,SAAW,GAEf,WAAW,IAAM,CACb,SAAS,eAAe,cAAc,EAAE,MAAM,QAAU,OACxDL,EAAY,MAAO,EACnBE,EAAgB,EAChBG,EAAI,SAAW,GACfA,EAAI,UAAY,gBAEhB,WAAW,IAAM,CACb,SAAS,eAAe,cAAc,EAAE,MAAM,QAAU,MAC3D,EAAE,GAAI,CACV,EAAE,IAAI,CACnB,CAAS,EAKL,MAAMC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAgB,SAAS,eAAe,gBAAgB,EAE1DD,GAAe,CAAC,aAAa,QAAQ,kBAAkB,GACvD,WAAW,IAAM,CACbA,EAAY,UAAU,IAAI,QAAQ,CACrC,EAAE,GAAI,EAGPC,GACAA,EAAc,iBAAiB,QAAS,IAAM,CAC1C,aAAa,QAAQ,mBAAoB,MAAM,EAC/CD,EAAY,UAAU,OAAO,QAAQ,CACjD,CAAS,CAET,CAAC"}